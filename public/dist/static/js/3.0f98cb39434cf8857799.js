webpackJsonp([3],{"+Kxl":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("bOdI"),a=o.n(s),r=o("W+FH"),i=o("zL8q"),l=o("TIfe"),n={data:function(){var e;return a()({activeName:"back",cat:"",Controller:"",showImg:"",add:{uploadUrl:""},form:(e={id:"",goods_name:"",cat_id:"",shop_price:"",is_on_sale:"",is_hot:"",logo:"",seo_keyword:"",seo_description:"",sort_num:"",goods_desc:""},a()(e,"is_hot","0"),a()(e,"is_new","0"),a()(e,"is_best","0"),a()(e,"attr",[]),e),attr:[]},"cat",[])},created:function(){var e=this;this.Controller="goods";var t=this.$route.query.data;this.add.uploadUrl="http://www.szxzsyx.com/goods/upload?token="+Object(l.a)(),Object(r.a)({id:t.id},"/"+this.Controller+"/init").then(function(t){e.cat=t.data.cat,e.attr=t.data.attr,t.data.attr.forEach(function(t){e.form.attr.push({id:t.id,val:t.val,name:t.attr_name,attr_type:t.attr_type})}),console.log(e.form.attr)}),this.form.id=t.id,this.form.goods_name=t.goods_name,this.form.cat_id=t.cat_id,this.form.shop_price=t.shop_price,this.form.is_on_sale=String(t.is_on_sale),this.form.is_hot=String(t.is_hot),this.form.is_new=String(t.is_new),this.form.is_best=String(t.is_best),this.form.logo=t.logo,this.form.seo_description=t.seo_description,this.form.seo_keyword=t.seo_keyword,this.form.sort_num=t.sort_num,this.form.goods_desc=t.goods_desc,this.showImg="http://www.szxzsyx.com"+this.form.logo},methods:{onSubmit:function(){this.$message("submit!")},handleUpdate:function(e){this.break(),this.form.logo=e.logo,this.showImg="http://www.szxzsyx.com"+this.form.logo,console.log(this.showImg),this.form.id=e.id,this.form.brand_name=e.brand_name,this.form.site_url=e.site_url,this.form.logo=e.logo,this.dialogVisible=!0,this.dialogTitle=this.textMap.update},break:function(){this.form.goods_name="",this.form.cat_id="",this.form.shop_price="",this.form.is_on_sale="",this.form.is_hot="",this.form.logo="",this.form.seo_keyword="",this.form.seo_description="",this.form.sort_num="",this.form.goods_desc="",this.form.is_new="",this.form.is_best="",this.form.attr=[]},push:function(){var e=this;Object(r.b)(this.form,"/"+this.Controller+"/edit").then(function(t){e.dialogVisible=!1,console.log(t),0==t.error&&(e.$message({message:"修改成功",type:"warning"}),e.break(),e.$router.push({name:"Goods/list"}))},function(e){console.log(e),Object(i.Message)({message:e.content,type:"error",duration:5e3})})},handleAvatarSuccess:function(e,t){this.form.logo="/app/uploadImage/"+e.path,this.showImg="http://www.szxzsyx.com"+this.form.logo,console.log(this.form.logo)},handleClick:function(e,t){console.log(e,t)},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}},m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-card",{staticClass:"box-card",attrs:{span:12}},[o("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"基本信息",name:"back"}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[o("el-form",{staticStyle:{"margin-right":"250px"},attrs:{model:e.form,"label-width":"125px"}},[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"id"}},[o("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品分类"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.cat_id,callback:function(t){e.$set(e.form,"cat_id",t)},expression:"form.cat_id"}},e._l(e.cat,function(e){return o("el-option",{key:e.id,attrs:{label:e.cat_name,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"商品价格"}},[o("el-input",{model:{value:e.form.shop_price,callback:function(t){e.$set(e.form,"shop_price",t)},expression:"form.shop_price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品图片"}},[o("el-upload",{attrs:{action:e.add.uploadUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"list-type":"picture-card"}},[o("img",{directives:[{name:"show",rawName:"v-show",value:e.form.logo,expression:"form.logo"}],staticClass:"avatar",staticStyle:{width:"148px",height:"148px"},attrs:{src:e.showImg}}),e._v(" "),e.form.logo?e._e():o("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),o("el-form-item",{attrs:{label:"是否上架"}},[o("el-tooltip",{attrs:{content:"是否上架",placement:"top"}},[o("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.form.is_on_sale,callback:function(t){e.$set(e.form,"is_on_sale",t)},expression:"form.is_on_sale"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"seo优化-关键字"}},[o("el-input",{model:{value:e.form.seo_keyword,callback:function(t){e.$set(e.form,"seo_keyword",t)},expression:"form.seo_keyword"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"seo优化-描述"}},[o("el-input",{model:{value:e.form.seo_description,callback:function(t){e.$set(e.form,"seo_description",t)},expression:"form.seo_description"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"排序"}},[o("el-input",{model:{value:e.form.sort_num,callback:function(t){e.$set(e.form,"sort_num",t)},expression:"form.sort_num"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品描述"}},[o("el-input",{model:{value:e.form.goods_desc,callback:function(t){e.$set(e.form,"goods_desc",t)},expression:"form.goods_desc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否热卖"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_hot,callback:function(t){e.$set(e.form,"is_hot",t)},expression:"form.is_hot"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_hot,callback:function(t){e.$set(e.form,"is_hot",t)},expression:"form.is_hot"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{attrs:{label:"是否新品"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_new,callback:function(t){e.$set(e.form,"is_new",t)},expression:"form.is_new"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_new,callback:function(t){e.$set(e.form,"is_new",t)},expression:"form.is_new"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{attrs:{label:"是否精品"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_best,callback:function(t){e.$set(e.form,"is_best",t)},expression:"form.is_best"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_best,callback:function(t){e.$set(e.form,"is_best",t)},expression:"form.is_best"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"属性设置",name:"second"}},[o("el-form",{attrs:{model:e.form,"label-width":"120px"}},e._l(e.form.attr,function(t,s){return o("el-form-item",{attrs:{label:t.name}},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==t.attr_type,expression:"val.attr_type==0"}]},[o("el-input",{model:{value:e.form.attr[s].val,callback:function(t){e.$set(e.form.attr[s],"val",t)},expression:"form.attr[key].val"}})],1),e._v(" "),1==t.attr_type?o("div",[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.attr[s].value,callback:function(t){e.$set(e.form.attr[s],"value",t)},expression:"form.attr[key].value"}},e._l(t.attr_option_values,function(e){return o("el-option",{attrs:{label:e.option,value:e.option}})}))],1):e._e()])}))],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{offset:12}},[o("el-button",{attrs:{type:"primary"},on:{click:e.push}},[e._v("修改商品")])],1)],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(n,m,!1,function(e){o("WTvs")},"data-v-6524c055",null);t.default=c.exports},"9bBU":function(e,t,o){o("mClu");var s=o("FeBl").Object;e.exports=function(e,t,o){return s.defineProperty(e,t,o)}},C4MV:function(e,t,o){e.exports={default:o("9bBU"),__esModule:!0}},MCp3:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.line[data-v-6524c055]{\r\n  text-align: center;\n}\r\n",""])},WTvs:function(e,t,o){var s=o("MCp3");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o("rjj0")("2baf141e",s,!0)},bOdI:function(e,t,o){"use strict";t.__esModule=!0;var s,a=o("C4MV"),r=(s=a)&&s.__esModule?s:{default:s};t.default=function(e,t,o){return t in e?(0,r.default)(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},mClu:function(e,t,o){var s=o("kM2E");s(s.S+s.F*!o("+E39"),"Object",{defineProperty:o("evD5").f})}});